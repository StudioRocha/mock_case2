# 推奨作成順序

## 概要

勤怠管理アプリの画面・機能の推奨実装順序をまとめたドキュメントです。
依存関係を考慮し、段階的に実装を進めることで効率的に開発できます。

---

## フェーズ 1: 基盤整備

### 1. データベース設計・マイグレーション

-   [ ] テーブル設計の確認
-   [ ] マイグレーションファイルの作成
-   [ ] シーダーファイルの作成（必要に応じて）

### 2. 共通コンポーネント・レイアウト

-   [ ] `resources/css/common.css` の作成
-   [ ] `resources/views/layouts/app.blade.php` の作成
-   [ ] `resources/views/components/header.blade.php` の作成
-   [ ] `resources/views/components/button.blade.php` の作成
-   [ ] `resources/views/components/form/input.blade.php` の作成
-   [ ] `resources/views/components/form/label.blade.php` の作成（必要に応じて）

---

## フェーズ 2: 認証機能（一般ユーザー）

### 3. 会員登録機能（PG01）

-   [x] `RegisterController` の作成
-   [x] `routes/web.php` に `/register` ルート追加
-   [x] `resources/views/auth/register.blade.php` の作成
-   [x] バリデーション実装
-   [x] ユーザー登録処理の実装
-   [x] 自動ログイン機能の実装

### 4. ログイン機能（PG02）

-   [ ] `LoginController` の作成
-   [ ] `routes/web.php` に `/login` ルート追加
-   [ ] `resources/views/auth/login.blade.php` の作成
-   [ ] 認証処理の実装
-   [ ] 認証ミドルウェアの設定

---

## フェーズ 3: 一般ユーザー向け勤怠機能

### 5. 勤怠登録画面（PG03）

-   [ ] `AttendanceController` の作成
-   [ ] `routes/web.php` に `/attendance` ルート追加
-   [ ] `resources/views/attendance/index.blade.php` の作成
-   [ ] 打刻機能の実装（出勤・退勤）
-   [ ] 休憩開始・終了機能の実装
-   [ ] バリデーション実装

### 6. 勤怠一覧画面（PG04）

-   [ ] `AttendanceController@list` メソッドの追加
-   [ ] `routes/web.php` に `/attendance/list` ルート追加
-   [ ] `resources/views/attendance/list.blade.php` の作成
-   [ ] 一覧表示機能の実装
-   [ ] ページネーション実装

### 7. 勤怠詳細画面（PG05）

-   [ ] `AttendanceController@detail` メソッドの追加
-   [ ] `routes/web.php` に `/attendance/detail/{id}` ルート追加
-   [ ] `resources/views/attendance/detail.blade.php` の作成
-   [ ] 詳細表示機能の実装
-   [ ] 休憩時間の集計表示

### 8. 申請一覧画面（一般ユーザー）（PG06）

-   [ ] `StampCorrectionRequestController` の作成
-   [ ] `routes/web.php` に `/stamp_correction_request/list` ルート追加
-   [ ] `resources/views/stamp_correction_request/list.blade.php` の作成
-   [ ] 申請一覧表示機能の実装
-   [ ] 申請作成機能の実装（必要に応じて）

---

## フェーズ 4: 管理者向け機能

### 9. 管理者ログイン画面（PG07）

-   [ ] `Admin/LoginController` の作成
-   [ ] `routes/web.php` に `/admin/login` ルート追加
-   [ ] `resources/views/admin/login.blade.php` の作成
-   [ ] 管理者認証処理の実装
-   [ ] 管理者認証ミドルウェアの設定

### 10. 管理者勤怠一覧画面（PG08）

-   [ ] `Admin/AttendanceController` の作成
-   [ ] `routes/web.php` に `/admin/attendance/list` ルート追加
-   [ ] `resources/views/admin/attendance/list.blade.php` の作成
-   [ ] 全スタッフの勤怠一覧表示機能の実装
-   [ ] フィルタリング機能の実装

### 11. 管理者勤怠詳細画面（PG09）

-   [ ] `Admin/AttendanceController@show` メソッドの追加
-   [ ] `routes/web.php` に `/admin/attendance/{id}` ルート追加
-   [ ] `resources/views/admin/attendance/show.blade.php` の作成
-   [ ] 詳細表示機能の実装

### 12. スタッフ一覧画面（PG10）

-   [ ] `Admin/StaffController` の作成
-   [ ] `routes/web.php` に `/admin/staff/list` ルート追加
-   [ ] `resources/views/admin/staff/list.blade.php` の作成
-   [ ] スタッフ一覧表示機能の実装

### 13. スタッフ別勤怠一覧画面（PG11）

-   [ ] `Admin/AttendanceController@staff` メソッドの追加
-   [ ] `routes/web.php` に `/admin/attendance/staff/{id}` ルート追加
-   [ ] `resources/views/admin/attendance/staff.blade.php` の作成
-   [ ] スタッフ別勤怠一覧表示機能の実装
-   [ ] 月次表示機能の実装

### 14. 申請一覧画面（管理者）（PG12）

-   [ ] `Admin/StampCorrectionRequestController` の作成（または既存コントローラーの拡張）
-   [ ] `resources/views/admin/stamp_correction_request/list.blade.php` の作成
-   [ ] 管理者向け申請一覧表示機能の実装
-   [ ] ロール判定による画面切り替え実装

### 15. 修正申請承認画面（PG13）

-   [ ] `Admin/StampCorrectionRequestController@approve` メソッドの追加
-   [ ] `routes/web.php` に `/stamp_correction_request/approve/{id}` ルート追加
-   [ ] `resources/views/admin/stamp_correction_request/approve.blade.php` の作成
-   [ ] 承認処理の実装
-   [ ] 勤怠情報更新処理の実装

---

## 実装時の注意点

### 依存関係

-   **認証機能**は他の機能の前提となるため、最初に実装する
-   **勤怠登録機能**は勤怠一覧・詳細の前提となるため、先に実装する
-   **管理者機能**は一般ユーザー機能の実装後に進めることを推奨

### 各画面実装時の手順

1. コントローラーの作成
2. ルーティングの追加
3. ビューファイルの作成
4. バリデーションの実装
5. ビジネスロジックの実装
6. エラーハンドリングの実装

### テスト推奨順序

1. 単体テスト（コントローラー、モデル）
2. 統合テスト（ルーティング、認証）
3. 画面テスト（ビュー、フォーム）

---

## 応用要件（後回し）

以下の機能は基本機能の実装完了後に実装します：

-   **FN011**: メール認証機能
-   **FN012**: 認証メール再送機能
-   **FN045**: CSV 出力機能

応用要件の実装は、「応用要件を進める」という合図を待ってから開始してください。
