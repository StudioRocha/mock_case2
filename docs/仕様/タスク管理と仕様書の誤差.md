

問題点
休憩時間のバリデーションメッセージが仕様と異なる
項目	仕様	実装	状態
休憩時間が勤務時間外	「休憩時間が勤務時間外です。」	「休憩時間が不適切な値です」	不一致
休憩終了時間が退勤時間より後	「休憩時間が勤務時間外です。」	「休憩時間もしくは退勤時間が不適切な値です」	不一致

# タスク管理と仕様書の誤差

## 概要

実装時のタスク管理で指摘された問題点と、実際の仕様書（`機能要件一覧.md`）との比較をまとめたドキュメントです。

---

## バリデーションメッセージの誤差

### 問題点

タスク管理で指摘された問題点：

| 項目 | タスク管理での仕様 | 実装 | 状態 |
|------|-------------------|------|------|
| 休憩時間が勤務時間外 | 「休憩時間が勤務時間外です。」 | 「休憩時間が不適切な値です」 | 不一致 |
| 休憩終了時間が退勤時間より後 | 「休憩時間が勤務時間外です。」 | 「休憩時間もしくは退勤時間が不適切な値です」 | 不一致 |

### 実際の仕様書（機能要件一覧.md）との比較

**US011: 管理者ユーザーは各勤怠の詳細を確認・修正することができる**
**FN039: バリデーション機能**

| 項目 | 仕様書（機能要件一覧.md） | 実装 | 状態 |
|------|------------------------|------|------|
| 1. 出勤時間が退勤時間より後、または退勤時間が出勤時間より前 | 「出勤時間もしくは退勤時間が不適切な値です」 | 「出勤時間もしくは退勤時間が不適切な値です」 | ✅ 一致 |
| 2. 休憩開始時間が出勤時間より前、または退勤時間より後 | 「休憩時間が不適切な値です」 | 「休憩時間が不適切な値です」 | ✅ 一致 |
| 3. 休憩終了時間が退勤時間より後 | 「休憩時間もしくは退勤時間が不適切な値です」 | 「休憩時間もしくは退勤時間が不適切な値です」 | ✅ 一致 |
| 4. 備考欄が未入力 | 「備考を記入してください」 | 「備考を記入してください」 | ✅ 一致 |

### 結論

**実装は仕様書（`機能要件一覧.md`）と一致しています。**

タスク管理で指摘された「休憩時間が勤務時間外です。」というメッセージは、実際の仕様書（`機能要件一覧.md`）には記載されていません。

仕様書では以下のメッセージが定義されています：
- 「休憩時間が不適切な値です」（休憩開始時間のバリデーション）
- 「休憩時間もしくは退勤時間が不適切な値です」（休憩終了時間のバリデーション）

---

## 対応方針

### 現状

- ✅ 実装は仕様書（`機能要件一覧.md`）と一致している
- ⚠️ タスク管理で指摘された仕様と、実際の仕様書に差異がある

### 推奨対応

1. **仕様書を基準とする**: `機能要件一覧.md`が正式な仕様書であるため、実装は正しい
2. **タスク管理の仕様を確認**: タスク管理で指摘された「休憩時間が勤務時間外です。」というメッセージが、別の仕様書や要件に記載されているか確認する
3. **仕様書の更新**: もしタスク管理の仕様が正しい場合は、`機能要件一覧.md`を更新する必要がある

---

## 参考資料

- [機能要件一覧.md](./機能要件一覧.md) - US011, FN039
- [バリデーションルール一覧.md](./バリデーションルール一覧.md)

---

## 更新履歴

| 日付 | 更新内容 | 更新者 |
|------|---------|--------|
| 2025-01-XX | 初版作成 | - |

